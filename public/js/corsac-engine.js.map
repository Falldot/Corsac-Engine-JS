{
  "version": 3,
  "sources": ["../../src/corsac-engine.js"],
  "sourcesContent": ["//const {ECS, types} = require(\"./ECS\");\n\nconst shader1 = require(\"./shader1.glsl\");\nconst shader2 = require(\"./shader2.glsl\");\n\nconst resize = canvas => {\n    const displayWidth = document.body.clientWidth;\n    const displayHeight = document.body.clientHeight;\n\n    if (canvas.width != displayWidth ||\n        canvas.height != displayHeight) {\n\n      canvas.width = displayWidth;\n      canvas.height = displayHeight;\n    }\n};\n\nwindow.addEventListener(`resize`, () => {\n    resize(document.getElementById(\"root\"));\n}, false);\n\nconst createShader = (gl, type, source) => {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (success) {\n        return shader;\n    }\n    console.log(\"error\");\n    gl.deleteShader(shader);\n};\n\nconst createProgram = (gl, vertexShader, fragmentShader) => {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    const success = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (success) {\n        return program;\n    }\n    console.log(\"error\");\n    gl.deleteProgram(program);\n};\n\nconst randomInt = range => Math.floor(Math.random() * range);\n\nconst setRectangle = (gl, x, y, width, height) => {\n    const x1 = x;\n    const x2 = x + width;\n    const y1 = y;\n    const y2 = y + height;\n\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n       x1, y1,\n       x2, y1,\n       x1, y2,\n       x1, y2,\n       x2, y1,\n       x2, y2\n    ]), gl.STATIC_DRAW);\n};\n\nconst main = () => {\n    const canvas = document.querySelector(\"#root\");\n    const gl = canvas.getContext(\"webgl\");\n    resize(canvas);\n\n    const vertexShader = createShader(gl, gl.VERTEX_SHADER, shader1);\n    const fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, shader2);\n\n    const program = createProgram(gl, vertexShader, fragmentShader);\n    const positionAttributeLocation = gl.getAttribLocation(program, \"a_position\");\n    const resolutionUniformLocation = gl.getUniformLocation(program, \"u_resolution\");\n    const colorUniformLocation = gl.getUniformLocation(program, \"u_color\");\n\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n\n    const xstart = 0;\n    const ystart = 0;\n    const xend = canvas.width;\n    const yend = canvas.height;\n\n    const positions = [\n        xstart, ystart,\n        xend,   ystart,\n        xstart, yend,\n        xstart, yend,\n        xend,   ystart,\n        xend,   yend,\n    ];\n\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n    gl.clearColor(0, 0, 0, 0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.useProgram(program);\n    gl.uniform2f(resolutionUniformLocation, gl.canvas.width, gl.canvas.height);\n    gl.uniform4f(colorUniformLocation, 1, 1, 0, 1);\n\n    gl.enableVertexAttribArray(positionAttributeLocation);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n\n    const size = 2;\n    const type = gl.FLOAT;\n    const normalize = false;\n    const stride = 0;\n    const offset = 0;\n    gl.vertexAttribPointer(positionAttributeLocation, size, type, normalize, stride, offset);\n\n    for (let ii = 0; ii < 50; ++ii) {\n        setRectangle(gl, randomInt(300), randomInt(300), randomInt(300), randomInt(300));\n\n        gl.uniform4f(colorUniformLocation, Math.random(), Math.random(), Math.random(), 1);\n\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n};\nmain();\n\n\n\n\n// const ecs = new ECS();\n\n// const Position = ecs.CreateComponent(types.uint32);\n// const Direction = ecs.CreateComponent(types.uint32);\n\n// const Translate = ecs.CreateGroup(Position, Direction);\n\n// const Transform = ecs.CreateSystem(Translate, (entities, Pos) => {\n//     entities.forEach(element => {\n//         console.log(Pos[element]);\n//     });\n// });\n\n// ecs.CreateEntity(Translate);\n\n// transform();\n"],
  "mappings": "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",
  "names": []
}
